# mq-controller

Что из себя представляет контроллер для системы MoniQue и для чего он предназначен, читай в [соответствующем разделе](https://github.com/biocad/mq/blob/master/doc/Controller.md) репозитория mq.

## Конфигурация

Для каждого **spec**'а сообщений, обработка которых должна быть распределена между компонентами, заводится отдельный контроллер, работающий на своём порту.

Информация о разворачиваемых контроллерах записывается в config.json в поле **params -> mq_controller -> connections**:

```
"params":{
  "mq_controller": {
    "connections": {
      "<spec_сообщения>": <порт_контроллера>,
      "<spec_сообщения>": <порт_контроллера>
    } 
  }
}
```

## Сборка и запуск

Сборка и запуск компонента производится с помощью инструмента [stack](https://www.haskellstack.org/):

```
stack build
stack exec mq-controller
```
